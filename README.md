# Reinjection_Analysis

## About

Use CAN .DBC files to extract data from .MF4 log files using *Asammdf*, visualize each signal of data using *Pandas* and *Matplotlib*, complete anomaly detection for each data signal using mean and standard deviation percentile analysis, and generate PPT report (with graphs and potential abnormal data listed) using *PPTX*.

## Important Module Requirements

- asammdf 5.20.6 or above

  - cchardet 2.1.5 (this version can install asammdf correctly, v2.1.6 will lead to potential download error)

  - lz4 3.1.0
  
- PPTX

## Suggested Data Folder Structure

```
|
├── original data folder
---├── original_1.mf4
---├── original_2.mf4
---└── ...
├── test data 1 folder
---├── test1_1.mf4
---├── test1_2.mf4
---└── ...
├── test data 2 folder
---├── test2_1.mf4
---├── test2_2.mf4
---└── ...
└── ...
```

## Config File Variables

- `path`:
  - `path_data_dir`: the directory where the Data Folder (containing all data) locates
  - `path_dbc_dir`: the directory where all the DBC files locate (it is suggested that all `.dbc` files are put under one directory)
  - `path_signal_excel`: the Signal Checkpoint Excel file to decide which signal to choose and plot
  - `path_to_create_folder`: the target directory to create a folder to put figures
  - `path_to_create_ppt`: the target directory to create the PPT file

- `dbc_channels`: a dictionary, key is the CAN channel name, value is the corresponding `.dbc` file name (since the `.dbc` files' location is specified in `path_dbc_dir`, it is enough to just include the `.dbc` file name instead of the absolute path)

  ```
  Example:
  "Ch3": ['GWM V71 CAN 01C.dbc']
  "Ch4": ['FR-IFC-Private CAN.dbc']
  "Ch5": ['GWM V71 CAN 01C.dbc']
  "Ch6": ['FR-IFC-Private CAN.dbc']
  ```

## PPT Report Demo

Below are some screenshots of the PPT report generated by this program. More *Matplotlib* figures can be accessed in `Demo_fig` folder:

![PPT1](/Demo_fig/ppt_demo_1.jpg)

![PPT2](/Demo_fig/ppt_demo_2.jpg)
